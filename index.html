<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>LeioTech Store ‚Äî Productos Apple</title>
<style>
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    margin: 0;
    background-color: #f5f5f7;
    color: #1d1d1f;
  }
  header {
    background: #000;
    color: white;
    text-align: center;
    padding: 15px;
    font-size: 1.4rem;
    font-weight: 600;
    letter-spacing: 1px;
  }
  .container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 1.5rem;
    padding: 30px;
  }
  .card {
    background: white;
    border-radius: 15px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    transition: transform 0.3s ease;
    cursor: pointer;
  }
  .card:hover {
    transform: scale(1.03);
  }
  .card img {
    width: 100%;
    border-radius: 15px 15px 0 0;
  }
  .card-content {
    padding: 20px;
  }
  h3 {
    margin: 0;
    color: #0071e3;
  }
  .price {
    font-weight: bold;
    margin-top: 10px;
  }
  button {
    background: #0071e3;
    border: none;
    color: white;
    padding: 10px 15px;
    border-radius: 10px;
    cursor: pointer;
    transition: 0.3s;
  }
  button:hover {
    background: #005bb5;
  }
  footer {
    text-align: center;
    padding: 20px;
    background: #000;
    color: #fff;
  }

  /* Modal */
  .modal {
    display: none;
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.6);
    justify-content: center;
    align-items: center;
  }
  .modal-content {
    background: white;
    border-radius: 10px;
    padding: 30px;
    width: 90%;
    max-width: 450px;
    text-align: center;
  }
  .modal-content img {
    width: 150px;
    margin-bottom: 15px;
  }
</style>
</head>

<body>
<header>üçé LeioTech Store</header>

<section class="container" id="productos"></section>

<!-- Modal QR -->
<div class="modal" id="modalPago">
  <div class="modal-content">
    <h3>Escanea tu QR para pagar üí≥</h3>
    <img src="./imagenes/QR YAPE LEO.jpeg" alt="QR Yape">
    <img src="./imagenes/QR IBK LEO.jpeg" alt="QR Plin">
    <p>O env√≠a tu pago al n√∫mero <strong>945199162</strong> (Yape / Plin)</p>
    <button onclick="cerrarModal()">Cerrar</button>
  </div>
</div>

<footer>
  Hecho con üíô por Leonardo D√≠az ¬∑ LeioTech Store
</footer>

<script>
const productos = [
  {
    nombre: "Cable C (1m) Carga R√°pida",
    descripcion: "Dise√±ado para una carga eficiente y transferencia r√°pida de datos entre tus dispositivos Apple con conector Lightning y equipos con puerto USB-C.",
    caracteristicas: "Longitud 1 m; Conector USB-C a Lightning; Carga r√°pida Power Delivery; Material TPE flexible y duradero.",
    precio: "S/ 38.00",
    imagenes: ["1A Cable C (1m) Carga R√°pida.jpg", "1B Cable C (1m) Carga R√°pida.jpg"]
  },
  {
    nombre: "Adaptador de corriente USB-C",
    descripcion: "Carga tu iPhone, iPad o cualquier dispositivo compatible de forma r√°pida y segura con este adaptador compacto de 20 W de potencia.",
    caracteristicas: "Potencia de salida 20 W; Puerto USB-C; Compatible con carga r√°pida Power Delivery; Dise√±o compacto y port√°til.",
    precio: "S/ 40.00",
    imagenes: ["2A Adaptador de corriente USB-C.jpg", "2B Adaptador de corriente USB-C.jpg"]
  },
  {
    nombre: "Cable USB (1m)",
    descripcion: "Conecta y sincroniza tu iPhone, iPad o iPod con conector Lightning a tu computadora o adaptador de corriente para cargarlo de manera r√°pida y segura.",
    caracteristicas: "Longitud 1 m; Conector Lightning a USB-A; Compatible con iPhone, iPad y iPod; Material resistente de alta durabilidad.",
    precio: "S/ 35.00",
    imagenes: ["3A Cable USB (1m).jpg", "3B Cable USB (1m).jpg", "3C Cable USB (1m).jpg"]
  },
  {
    nombre: "Cargador USB Port√°til",
    descripcion: "Carga tus dispositivos en cualquier lugar con este pr√°ctico powerbank de 2,600 mAh, compacto, ligero y f√°cil de llevar.",
    caracteristicas: "Capacidad 2,600 mAh; Salida 5V/1A; Entrada 5V/0.5A (Micro USB); Bater√≠a de pol√≠mero ecol√≥gica; Indicador luminoso de carga.",
    precio: "S/ 45.00",
    imagenes: ["4A Cargador USB Portatil.jpeg", "4B Cargador USB Portatil.jpeg", "4C Cargador USB Portatil.jpg"]
  }
];

// Render de productos
const contenedor = document.getElementById("productos");
productos.forEach((p, i) => {
  const card = document.createElement("div");
  card.className = "card";
  card.innerHTML = `
    <img src="./imagenes/${p.imagenes[0]}" alt="${p.nombre}">
    <div class="card-content">
      <h3>${p.nombre}</h3>
      <p>${p.descripcion}</p>
      <p class="price">${p.precio}</p>
      <button onclick="agregarAlCarrito(${i})">üõí Agregar al carrito</button>
    </div>`;
  contenedor.appendChild(card);
});

let carrito = [];

function agregarAlCarrito(index) {
  carrito.push(productos[index]);
  alert(`‚úÖ ${productos[index].nombre} agregado al carrito`);
}

// Env√≠o del pedido a Sheets + Gmail
function enviarPedido(datos) {
  fetch("https://script.google.com/macros/s/AKfycbwrbq-AXXwPM9vxBUHQQ8BtUW-mic7IHN8n1WYxuemYDg_LRxM4K0Ej-fQuDuxfTHCP/exec", {
    method: "POST",
    mode: "no-cors",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(datos)
  });
}

// Finalizar compra
function finalizarCompra() {
  if (carrito.length === 0) return alert("Tu carrito est√° vac√≠o üõí");
  const productosLista = carrito.map(p => p.nombre + " (" + p.precio + ")").join(", ");
  const nombre = prompt("Tu nombre:");
  const correo = prompt("Tu correo:");
  const telefono = prompt("Tu n√∫mero de WhatsApp:");

  const datos = {
    nombre, correo, telefono,
    producto: productosLista,
    metodo: "WhatsApp"
  };
  enviarPedido(datos);

  // WhatsApp link
  const mensaje = `Hola üëã, estoy interesado en los siguientes productos: ${productosLista}`;
  window.open(`https://wa.me/51945199162?text=${encodeURIComponent(mensaje)}`);

  abrirModal();
}

// Modal QR
function abrirModal() {
  document.getElementById("modalPago").style.display = "flex";
}
function cerrarModal() {
  document.getElementById("modalPago").style.display = "none";
}
</script>

<!-- Bot√≥n flotante finalizar -->
<div style="position:fixed;bottom:25px;right:25px;">
  <button onclick="finalizarCompra()">üí≥ Finalizar compra</button>
</div>

</body>
</html>
