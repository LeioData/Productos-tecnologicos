<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>LeioTech Store</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<style>
:root {
  --bg:#0b1323; --card:#13233d; --accent:#22a2ff;
  --teal:#64ffda; --muted:#8aa0b4; --white:#e6f1ff;
  --shadow:0 10px 40px rgba(0,0,0,.4); --radius:20px;
}
body {
  margin:0; font-family:'Inter',sans-serif;
  background:linear-gradient(180deg,#081021,#0b1323);
  color:var(--white);
}
header {
  padding:14px 22px; border-bottom:1px solid rgba(255,255,255,.05);
  background:rgba(8,16,33,.7); backdrop-filter:blur(5px);
  display:flex; justify-content:space-between; align-items:center;
}
header b{color:var(--teal); font-weight:800; font-size:18px}
.cart-btn{
  background:#132744; border:1px solid rgba(255,255,255,.08);
  color:#fff; border-radius:12px; padding:10px 14px; cursor:pointer;
  position:relative;
}
.cart-btn .badge{
  position:absolute; top:-6px; right:-6px; background:var(--accent);
  border-radius:50%; padding:2px 6px; font-size:12px; font-weight:700;
}
main{max-width:1200px; margin:20px auto 80px; padding:0 20px;}
h2{margin:0 0 18px; font-weight:800}
.grid{
  display:grid; gap:22px; grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
}
.card{
  background:var(--card); border-radius:var(--radius);
  box-shadow:var(--shadow); overflow:hidden; cursor:pointer;
  transition:.25s transform;
}
.card:hover{transform:translateY(-5px)}
.card img{width:100%; height:210px; object-fit:cover}
.card .box{padding:16px}
.card h3{margin:0 0 6px; color:var(--teal)}
.card p{margin:0; color:var(--muted); font-size:14px}
.card .price{font-weight:700; margin-top:8px}

/* Modal general */
.modal{
  display:none; position:fixed; inset:0;
  background:rgba(5,10,20,.6); backdrop-filter:blur(8px);
  place-items:center; z-index:80;
}
.modal.show{display:grid}
.sheet{
  width:min(960px,95vw); background:#0e1a2b;
  border:1px solid rgba(255,255,255,.1); border-radius:var(--radius);
  box-shadow:var(--shadow); overflow:hidden;
}
.sheet-head{
  display:flex; justify-content:space-between; align-items:center;
  padding:14px 18px; background:#0d182b; font-weight:700;
}
.sheet-body{padding:18px;}

/* Detalle de producto */
.detail{display:grid; gap:18px; grid-template-columns:1fr 1fr; align-items:center;}
.detail img{width:100%; height:380px; object-fit:contain; border-radius:var(--radius);}
.gallery{position:relative;}
.arrow{
  position:absolute; top:50%; transform:translateY(-50%);
  background:rgba(0,0,0,.5); color:#fff; border:0;
  font-size:20px; border-radius:50%; width:36px; height:36px;
  cursor:pointer;
}
.arrow.left{left:8px} .arrow.right{right:8px}
.info h3{margin:0 0 8px; color:var(--teal)}
.info p{color:var(--muted)}
.info ul{margin:10px 0 0 20px}
.info .price{font-size:18px; font-weight:700; margin:12px 0}
.btn{
  background:#133052; color:#fff; border:1px solid rgba(255,255,255,.1);
  padding:10px 14px; border-radius:10px; cursor:pointer; transition:.2s;
}
.btn.primary{background:var(--accent); border:none; color:#00111f}
.btn:hover{filter:brightness(1.1)}
.actions{display:flex; gap:10px; margin-top:10px}

/* Carrito */
.list{display:flex; flex-direction:column; gap:10px; max-height:300px; overflow:auto;}
.item{display:flex; gap:10px; align-items:center; background:#0f2037;
  border:1px solid rgba(255,255,255,.06); border-radius:12px; padding:10px;}
.item img{width:64px; height:54px; object-fit:cover; border-radius:10px;}
.k{margin-left:auto;}
.k button{background:#1a3353; border:none; color:#cbd8ec; border-radius:10px; padding:6px 10px; cursor:pointer;}
.form{display:grid; gap:10px; margin-top:10px;}
.form input{width:100%; background:#0f2037; color:#dce9ff; border:1px solid rgba(255,255,255,.12); padding:10px 12px; border-radius:10px;}
.helper{color:#9ab6d6; font-size:13px; margin-top:6px;}

/* FAB */
.fabs{position:fixed; right:16px; bottom:16px; display:flex; gap:10px;}
.fab{width:56px; height:56px; border-radius:18px; display:grid; place-items:center;
  background:#132744; border:1px solid rgba(255,255,255,.1); box-shadow:var(--shadow);
  cursor:pointer; transition:.2s;}
.fab:hover{transform:translateY(-3px)}
footer{text-align:center; font-size:18px; color:var(--teal); margin:50px 0;}
</style>
</head>
<body>

<header>
  <b>LeioTech Store</b>
  <button class="cart-btn" id="btnCart">ðŸ›’ Carrito <span class="badge" id="badge">0</span></button>
</header>

<main>
  <h2>ðŸš€ Productos TecnolÃ³gicos</h2>
  <div class="grid" id="grid"></div>
</main>

<footer>LeioTech Store ðŸ’™</footer>

<!-- Modal Producto -->
<div class="modal" id="mdDetail">
  <div class="sheet">
    <div class="sheet-head">
      <span id="detailTitle"></span>
      <button class="btn" onclick="closeDetail()">âœ•</button>
    </div>
    <div class="sheet-body">
      <div class="detail">
        <div class="gallery">
          <button class="arrow left" onclick="prevImg()">â¬…</button>
          <img id="hero" src="" alt="">
          <button class="arrow right" onclick="nextImg()">âž¡</button>
        </div>
        <div class="info">
          <h3 id="dName"></h3>
          <p id="dDesc"></p>
          <ul id="dFeats"></ul>
          <div class="price" id="dPrice"></div>
          <div class="actions">
            <button class="btn" onclick="closeDetail()">Cerrar</button>
            <button class="btn primary" id="btnAdd">ðŸ›’ Agregar al carrito</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal Carrito -->
<div class="modal" id="mdCart">
  <div class="sheet">
    <div class="sheet-head">
      <span>Tu carrito</span>
      <button class="btn" onclick="closeCart()">âœ•</button>
    </div>
    <div class="sheet-body">
      <div class="list" id="list"></div>
      <form class="form" id="checkoutForm">
        <input id="inpNombre" placeholder="Tu nombre completo" required>
        <input id="inpCorreo" type="email" placeholder="Correo" required>
        <input id="inpFono" type="tel" placeholder="WhatsApp (solo nÃºmeros)" pattern="[0-9]{9}" required>
        <div class="helper">Se registrarÃ¡ tu pedido y se abrirÃ¡ WhatsApp con el resumen ðŸ’¬</div>
        <div class="actions">
          <button type="button" class="btn" onclick="closeCart()">Seguir comprando</button>
          <button type="submit" class="btn primary">Finalizar compra</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Botones flotantes -->
<div class="fabs">
  <a class="fab" href="https://wa.me/51945199162" target="_blank" title="WhatsApp">
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" width="28" alt="WhatsApp">
  </a>
  <a class="fab" href="https://calendly.com/leonardoandre1054" target="_blank" title="Agendar">
    <img src="https://upload.wikimedia.org/wikipedia/commons/5/5f/Google_Calendar_icon_%282020%29.svg" width="28" alt="Calendario">
  </a>
</div>

<script>
const PRODUCTS=[
 {name:"Cable C (1m) Carga RÃ¡pida",desc:"DiseÃ±ado para una carga eficiente y transferencia rÃ¡pida de datos entre tus dispositivos.",feats:["Longitud 1 m","USB-C a Lightning","Power Delivery","Material TPE flexible y duradero"],price:"S/ 38.00",images:["1A Cable C (1m) Carga RÃ¡pida.jpg","1B Cable C (1m) Carga RÃ¡pida.jpg"]},
 {name:"Adaptador de corriente USB-C",desc:"Carga tu iPhone o cualquier dispositivo compatible de forma rÃ¡pida y segura con 20 W.",feats:["Salida 20 W","Puerto USB-C","Power Delivery","DiseÃ±o compacto"],price:"S/ 40.00",images:["2A Adaptador de corriente USB-C.jpg","2B Adaptador de corriente USB-C.jpg"]},
 {name:"Cable USB (1m)",desc:"Conecta y sincroniza tu iPhone o iPad con puerto Lightning.",feats:["Longitud 1 m","Lightning a USB-A","Alta durabilidad"],price:"S/ 35.00",images:["3A Cable USB (1m).jpg","3B Cable USB (1m).jpg"]},
 {name:"Cargador USB PortÃ¡til",desc:"Carga tus dispositivos en cualquier lugar con este prÃ¡ctico powerbank de 2,600 mAh.",feats:["2,600 mAh","Salida 5V/1A","BaterÃ­a polÃ­mero"],price:"S/ 45.00",images:["4A Cargador USB Portatil.jpeg","4B Cargador USB Portatil.jpeg"]}
];

const grid=document.getElementById("grid");
PRODUCTS.forEach((p,i)=>{
  const el=document.createElement("article");
  el.className="card";
  el.innerHTML=`<img src="./imagenes/${p.images[0]}" alt="${p.name}">
  <div class="box"><h3>${p.name}</h3><p>${p.desc}</p><div class="price">${p.price}</div></div>`;
  el.onclick=()=>openDetail(i);
  grid.appendChild(el);
});

// detalle
let CURRENT_INDEX=null,CURRENT_IMG=0;
const mdDetail=document.getElementById("mdDetail"),hero=document.getElementById("hero"),thumbs=document.getElementById("thumbs"),
dName=document.getElementById("dName"),dDesc=document.getElementById("dDesc"),dFeats=document.getElementById("dFeats"),
dPrice=document.getElementById("dPrice"),btnAdd=document.getElementById("btnAdd");

function openDetail(i){
  CURRENT_INDEX=i; CURRENT_IMG=0;
  const p=PRODUCTS[i];
  document.getElementById("detailTitle").textContent=p.name;
  dName.textContent=p.name; dDesc.textContent=p.desc;
  dFeats.innerHTML=p.feats.map(f=>`<li>${f}</li>`).join('');
  dPrice.textContent=p.price; hero.src='./imagenes/'+p.images[0];
  btnAdd.onclick=()=>{addToCart(i); closeDetail()};
  mdDetail.classList.add("show");
}
function closeDetail(){mdDetail.classList.remove("show")}
function nextImg(){
  const imgs=PRODUCTS[CURRENT_INDEX].images;
  CURRENT_IMG=(CURRENT_IMG+1)%imgs.length;
  hero.src='./imagenes/'+imgs[CURRENT_IMG];
}
function prevImg(){
  const imgs=PRODUCTS[CURRENT_INDEX].images;
  CURRENT_IMG=(CURRENT_IMG-1+imgs.length)%imgs.length;
  hero.src='./imagenes/'+imgs[CURRENT_IMG];
}

// carrito
let CART=[];
const badge=document.getElementById("badge"),mdCart=document.getElementById("mdCart"),list=document.getElementById("list");
function addToCart(i){
  CART.push({idx:i,name:PRODUCTS[i].name,img:PRODUCTS[i].images[0]});
  badge.textContent=CART.length;
  alert("âœ… Agregado: "+PRODUCTS[i].name);
}
document.getElementById("btnCart").onclick=openCart;
function openCart(){renderCart();mdCart.classList.add("show")}
function closeCart(){mdCart.classList.remove("show")}
function renderCart(){
  if(CART.length===0){list.innerHTML="<div style='color:#a9c1db'>Tu carrito estÃ¡ vacÃ­o ðŸ›’</div>";return;}
  list.innerHTML=CART.map((it,ix)=>`
  <div class="item">
    <img src="./imagenes/${it.img}" alt="${it.name}">
    <div><b>${it.name}</b><small style="color:#9ab6d6">LeioTech Store</small></div>
    <div class="k"><button onclick="removeItem(${ix})">Quitar</button></div>
  </div>`).join('');
}
function removeItem(ix){CART.splice(ix,1);badge.textContent=CART.length;renderCart();}

// checkout
document.getElementById("checkoutForm").addEventListener("submit",async e=>{
 e.preventDefault();
 if(CART.length===0){alert("Tu carrito estÃ¡ vacÃ­o ðŸ›’");return;}
 const nombre=inpNombre.value.trim(),correo=inpCorreo.value.trim(),fono=inpFono.value.trim();
 const names=CART.map(x=>x.name).join(', ');
 try{
  await fetch("https://script.google.com/macros/s/AKfycbwrbq-AXXwPM9vxBUHQQ8BtUW-mic7IHN8n1WYxuemYDg_LRxM4K0Ej-fQuDuxfTHCP/exec",{
   method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},
   body:JSON.stringify({nombre,correo,telefono:fono,producto:names})
  });
 }catch(err){console.warn(err)}
 const msg=`Hola ðŸ‘‹, estoy interesado en estos productos: ${names}`;
 window.open(`https://wa.me/51945199162?text=${encodeURIComponent(msg)}`,'_blank');
 closeCart(); CART=[]; badge.textContent=0; e.target.reset();
});
</script>
</body>
</html>
