<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LeioTech Store</title>

  <!-- Fuente -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --blue-900:#0A192F;
      --blue-800:#112240;
      --teal:#64FFDA;
      --neon:#00ffcc;
      --white:#E6F1FF;
      --muted:#94A3B8;
      --card: rgba(17,34,64,.85);
      --shadow: 0 20px 50px rgba(0,0,0,.35);
      --soft: 0 10px 30px rgba(0,0,0,.25);
      --radius:18px;
      --live-btn-bg: linear-gradient(88deg, #2afadf 5%, #14c388 95%);
      --live-btn-glow: 0 0 16px #14c38888, 0 0 6px #34e8c4bb;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Inter, system-ui, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--white);
      background:
        radial-gradient(1200px 600px at 80% -10%, rgba(100,255,218,.10), transparent 60%),
        radial-gradient(900px 400px at 10% 110%, rgba(100,255,218,.08), transparent 60%),
        linear-gradient(160deg, #0A192F 0%, #0B1B33 60%, #0A192F 100%);
      background-attachment: fixed;
    }

    /* HEADER */
    .header{
      max-width: 1200px;
      margin: 24px auto 0;
      padding: 0 18px 8px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      border-bottom: 1px solid rgba(100,255,218,.18);
    }
    .logo{font-weight:800; letter-spacing:.3px; color:var(--teal)}
    .brand{display:flex; gap:10px; align-items:center}

    /* T√çTULO GRANDE */
    .main-title{
      text-align:center;
      font-size:32px;
      font-weight:800;
      margin-top:24px;
      color:var(--teal);
    }

    /* SLIDER */
    .slider-container{
      max-width:1200px;
      margin:20px auto;
      padding:0 18px;
      border-radius:18px;
      overflow:hidden;
      position:relative;
    }
    .slider{
      display:flex;
      transition:transform .6s ease;
    }
    .slide{
      min-width:100%;
    }
    .slide img{
      width:100%;
      height:320px;
      object-fit:cover;
      border-radius:18px;
    }
    .slider-btn{
      position:absolute;
      top:50%;
      transform:translateY(-50%);
      background:rgba(0,0,0,.35);
      border:none;
      color:white;
      font-size:26px;
      width:44px;
      height:44px;
      border-radius:50%;
      cursor:pointer;
    }
    #slidePrev{left:10px}
    #slideNext{right:10px}

    /* CAT√ÅLOGO */
    .wrap{max-width:1200px; margin: 24px auto 120px; padding: 0 18px;}

    .title{display:flex; justify-content:center; gap:10px; align-items:center; margin: 16px 0 18px}
    .title h1{margin:0; font-size:32px;}

    .grid{
      display:grid;
      gap:20px;
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
    @media (max-width:900px){
      .grid{grid-template-columns:1fr}
    }

    .card{
      background:var(--card);
      border:1px solid rgba(100,255,218,.22);
      border-radius:18px;
      overflow:hidden;
      box-shadow:var(--soft);
      transition:.25s ease;
      cursor:pointer;
    }
    .card:hover{transform: translateY(-4px); box-shadow: var(--shadow)}
    .card figure{margin:0; height:260px; background:#071225; overflow:hidden}
    .card img{width:100%; height:100%; object-fit:cover; display:block;}

    .card .body{padding:16px 16px 18px}
    .card h3{margin:0 0 6px; font-size:18px; color:var(--teal)}
    .card p{margin:0 0 10px; color:#cfe7ffad}

    .price{font-weight:800;}

    /* CONTACTO */
    .contacto{
      max-width:1000px;
      margin:80px auto;
      text-align:center;
      padding:20px;
      border-top:1px solid rgba(255,255,255,.15);
    }
    .contact-links{
      display:flex;
      gap:25px;
      justify-content:center;
      margin-top:10px;
    }
    .contact-icon img{
      width:40px;
      transition:.25s ease;
      border-radius:12px;
    }
    .contact-icon img:hover{
      transform:scale(1.15);
      filter:drop-shadow(0 0 8px rgba(100,255,218,.35));
    }
    .contact-info{
      margin-top:18px;
      color:#ddd;
      font-size:16px;
    }

    /* WHATSAPP FAB */
    .fabs{
      position: fixed;
      right:18px;
      bottom:18px;
      z-index:130;
    }
    .fab{
      width:56px;
      height:56px;
      border-radius:18px;
      display:grid;
      place-items:center;
      background:#0c1e38;
      border:1px solid rgba(100,255,218,.25);
      box-shadow: var(--soft);
      cursor:pointer;
      transition:.2s;
    }
    .fab:hover{transform: translateY(-2px); box-shadow: var(--shadow)}
    .tooltip{
      position:absolute;
      right:70px;
      top:50%;
      transform:translateY(-50%);
      padding:10px 12px;
      border-radius:12px;
      background:#08152b;
      border:1px solid rgba(100,255,218,.25);
      color:var(--white);
      font-size:14px;
      white-space:nowrap;
      opacity:0;
      pointer-events:none;
      transition:.2s;
    }
    .fab:hover .tooltip{opacity:1}

    footer.mini{
      text-align:center;
      padding:40px;
      color:#94a3b8;
    }
  </style>
</head>

<body>

  <header class="header">
    <div class="brand">
      <div class="logo">LeioTech Store</div>
    </div>
    <button class="cart-fab" id="openCart">üõí Carrito <span id="cartCount">0</span></button>
  </header>

  <!-- T√çTULO CENTRADO -->
  <h1 class="main-title">LeioTech Store</h1>

  <!-- SLIDER -->
  <div class="slider-container">
    <button class="slider-btn" id="slidePrev">‚Äπ</button>

    <div class="slider" id="slider">
      <div class="slide"><img src="imagenes/CARRUSEL 1A.jpeg"></div>
      <div class="slide"><img src="imagenes/CARRUSEL 1B.jpeg"></div>
      <div class="slide"><img src="imagenes/CARRUSEL 1C.jpg"></div>
      <div class="slide"><img src="imagenes/CARRUSEL 1D.jpeg"></div>
    </div>

    <button class="slider-btn" id="slideNext">‚Ä∫</button>
  </div>

  <!-- CAT√ÅLOGO -->
  <section class="wrap">
    <div class="title">
      <h1>Cat√°logo Tecnol√≥gico</h1>
    </div>

    <div class="grid" id="grid"></div>
  </section>
  <!-- Modal producto -->
  <div class="modal" id="productModal" aria-hidden="true">
    <div class="modal-card">
      <div class="modal-head">
        <div id="mTitle">Producto</div>
        <button class="x" id="mClose">‚úï</button>
      </div>
      <div class="modal-body">
        <div class="viewer">
          <div class="nav-arrow nav-prev" id="prevImg">‚Äπ</div>
          <img id="mImg" alt="imagen producto"/>
          <div class="nav-arrow nav-next" id="nextImg">‚Ä∫</div>
        </div>

        <div class="desc">
          <h2 id="mName"></h2>
          <p id="mDesc"></p>
          <ul id="mFeat"></ul>

          <div>
            <span class="price" id="mPrice"></span>
            <span class="product-qty-box">
              <button class="qty-btn" id="qtyDec">-</button>
              <span id="qtyNumber">1</span>
              <button class="qty-btn" id="qtyInc">+</button>
            </span>
          </div>

          <div class="actions" style="margin-top:12px">
            <button class="btn" id="mClose2">Cerrar</button>
            <button class="btn primary" id="btnAdd">‚ûï Agregar al carrito</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal carrito -->
  <div class="modal cart-modal" id="cartModal">
    <div class="modal-card">
      <div class="modal-head">
        <div>Tu carrito</div>
        <button class="x" id="cClose">‚úï</button>
      </div>

      <div class="modal-body">
        <div id="cartItems" style="display:grid; gap:10px"></div>

        <div class="form">
          <div class="resume" id="resumeTotal" style="display:none"></div>

          <input class="input" id="fNombre" placeholder="Tu nombre completo" required>

          <div class="hint">
            Al finalizar, registraremos tu pedido y te llevaremos a WhatsApp con el resumen.
          </div>

          <div class="actions" style="margin-top:6px">
            <button class="btn" id="seguir">Seguir comprando</button>
            <button class="btn primary" id="finalizar">Finalizar compra</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- WhatsApp FAB (ORIGINAL RESTAURADO COMO LO TEN√çAS) -->
  <div class="fabs">
    <a class="fab" href="https://wa.me/51913004414?text=Hola%20estoy%20interesado%20en%20tus%20productos." target="_blank" rel="noopener">
      <span class="tooltip">Chatea conmigo por WhatsApp</span>
      <img src="https://cdn-icons-png.flaticon.com/512/733/733585.png" width="30" alt="WhatsApp">
    </a>
  </div>

  <!-- CONTACTO -->
  <section class="contacto">
    <h2>Cont√°ctanos</h2>

    <div class="contact-links">

      <a class="contact-icon" href="https://www.facebook.com/leiotech" target="_blank">
        <img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" width="35">
      </a>

      <a class="contact-icon" href="https://www.instagram.com/leiotech" target="_blank">
        <img src="https://cdn-icons-png.flaticon.com/512/2111/2111463.png" width="35">
      </a>

      <!-- NUEVO ICONO DE CALENDARIO (AZUL, ELEGANTE, DEL MISMO ESTILO) -->
      <a class="contact-icon" href="https://calendly.com/leonardoandre1054" target="_blank">
        <img src="https://cdn-icons-png.flaticon.com/512/9068/9068056.png" width="35">
      </a>

    </div>

    <div class="contact-info">
      <p><b>Celular:</b> 913004414</p>
      <p><b>Correo:</b> leonardoandre1054@gmail.com</p>
    </div>
  </section>

  <footer class="mini">LeioTech Store</footer>

  <!-- ============================
       JAVASCRIPT COMPLETO
       ============================ -->
  <script>
    /* ---------------------------
       PRODUCTOS
    --------------------------- */
    const productos = [
      {
        id:'p1',
        nombre:'Cable C (1m) Carga R√°pida',
        precio:38.00,
        descripcion:'Dise√±ado para una carga eficiente y transferencia r√°pida de datos.',
        caracteristicas:['Longitud 1 m','USB-C a Lightning','Power Delivery','Material TPE durable'],
        imagenes:[
          'imagenes/1A Cable C (1m) Carga R√°pida.jpg',
          'imagenes/1B Cable C (1m) Carga R√°pida.jpg'
        ]
      },
      {
        id:'p2',
        nombre:'Adaptador de corriente USB-C',
        precio:40.00,
        descripcion:'Carga r√°pida y segura con 20W de potencia.',
        caracteristicas:['Salida 20 W','Puerto USB-C','Power Delivery','Dise√±o compacto'],
        imagenes:[
          'imagenes/2A Adaptador de corriente USB-C.jpg',
          'imagenes/2B Adaptador de corriente USB-C.jpg'
        ]
      },
      {
        id:'p3',
        nombre:'Cable USB (1m)',
        precio:35.00,
        descripcion:'Conecta y sincroniza tu equipo Apple.',
        caracteristicas:['Longitud 1 m','Lightning a USB-A','Compatible con iPhone/iPad','Material resistente'],
        imagenes:[
          'imagenes/3A Cable USB (1m).jpg',
          'imagenes/3B Cable USB (1m).jpg',
          'imagenes/3C Cable USB (1m).jpg'
        ]
      },
      {
        id:'p4',
        nombre:'Cargador USB Port√°til',
        precio:45.00,
        descripcion:'Powerbank compacto de 2,600 mAh.',
        caracteristicas:['2600 mAh','Salida 5V/1A','Entrada Micro USB','Indicador LED'],
        imagenes:[
          'imagenes/4A Cargador USB Portatil.jpeg',
          'imagenes/4B Cargador USB Portatil.jpeg',
          'imagenes/4C Cargador USB Portatil.jpg'
        ]
      }
    ];

    const grid = document.getElementById("grid");
    grid.innerHTML = productos.map(p => `
      <article class="card" data-id="${p.id}">
        <figure><img src="${p.imagenes[0]}"></figure>
        <div class="body">
          <h3>${p.nombre}</h3>
          <p>${p.descripcion}</p>
          <div class="price">S/ ${p.precio.toFixed(2)}</div>
        </div>
      </article>
    `).join("");


    /* ---------------------------
       MODAL PRODUCTO
    --------------------------- */
    const productModal = document.getElementById("productModal");
    const mTitle = document.getElementById("mTitle");
    const mName = document.getElementById("mName");
    const mDesc = document.getElementById("mDesc");
    const mFeat = document.getElementById("mFeat");
    const mPrice = document.getElementById("mPrice");
    const mImg = document.getElementById("mImg");

    const qtyNumber = document.getElementById("qtyNumber");
    let currentProduct = null;
    let currentIndex = 0;
    let currentQty = 1;

    function openProduct(p){
      currentProduct = p;
      currentIndex = 0;
      currentQty = 1;

      mTitle.textContent = p.nombre;
      mName.textContent = p.nombre;
      mDesc.textContent = p.descripcion;
      mFeat.innerHTML = p.caracteristicas.map(c => `<li>${c}</li>`).join("");

      qtyNumber.textContent = currentQty;
      mImg.src = p.imagenes[currentIndex];

      renderModalPrice();
      productModal.classList.add("show");
    }

    function closeProduct(){
      productModal.classList.remove("show");
    }

    function renderModalPrice(){
      mPrice.textContent = `S/ ${(currentProduct.precio * currentQty).toFixed(2)}`;
    }

    document.getElementById("qtyDec").onclick = () => {
      if(currentQty > 1){
        currentQty--;
        qtyNumber.textContent = currentQty;
        renderModalPrice();
      }
    };
    document.getElementById("qtyInc").onclick = () => {
      currentQty++;
      qtyNumber.textContent = currentQty;
      renderModalPrice();
    };

    document.getElementById("prevImg").onclick = () => {
      currentIndex = (currentIndex - 1 + currentProduct.imagenes.length) % currentProduct.imagenes.length;
      mImg.src = currentProduct.imagenes[currentIndex];
    };
    document.getElementById("nextImg").onclick = () => {
      currentIndex = (currentIndex + 1) % currentProduct.imagenes.length;
      mImg.src = currentProduct.imagenes[currentIndex];
    };

    document.getElementById("mClose").onclick = closeProduct;
    document.getElementById("mClose2").onclick = closeProduct;

    grid.onclick = e => {
      const card = e.target.closest(".card");
      if(!card) return;
      const p = productos.find(x => x.id === card.dataset.id);
      openProduct(p);
    };

    productModal.onclick = e => {
      if(e.target === productModal) closeProduct();
    };


    /* ---------------------------
       CARRITO
    --------------------------- */
    let cart = [];
    const cartCount = document.getElementById("cartCount");
    const cartModal = document.getElementById("cartModal");

    function updateCount(){
      cartCount.textContent = cart.reduce((s,i)=> s + i.qty, 0);
    }
    function totalCartAmount(){
      return cart.reduce((s,i)=> s + i.precio*i.qty, 0);
    }

    document.getElementById("openCart").onclick = () => {
      renderCart();
      cartModal.classList.add("show");
    };
    document.getElementById("cClose").onclick = () => {
      cartModal.classList.remove("show");
    };

    document.getElementById("btnAdd").onclick = () => {
      let found = cart.find(i => i.id === currentProduct.id);

      if(found){
        found.qty += currentQty;
      } else {
        cart.push({
          id: currentProduct.id,
          nombre: currentProduct.nombre,
          precio: currentProduct.precio,
          img: currentProduct.imagenes[0],
          qty: currentQty
        });
      }

      updateCount();
      closeProduct();
      renderCart();
      cartModal.classList.add("show");
    };

    const cartItems = document.getElementById("cartItems");
    const resumeTotal = document.getElementById("resumeTotal");

    function renderCart(){
      if(cart.length === 0){
        cartItems.innerHTML = "<p class='hint'>Tu carrito est√° vac√≠o.</p>";
        resumeTotal.style.display = "none";
        return;
      }

      cartItems.innerHTML = cart.map(i => `
        <div class="cart-item">
          <img src="${i.img}">
          <div>
            <b>${i.nombre}</b>
            <div class="cart-qty-box">
              <button class="qty-btn cart-minus" data-id="${i.id}">-</button>
              <span>${i.qty}</span>
              <button class="qty-btn cart-plus" data-id="${i.id}">+</button>
            </div>
            <div class="cart-line-total">S/ ${(i.precio * i.qty).toFixed(2)}</div>
          </div>
          <button class="rm" data-id="${i.id}">Quitar</button>
        </div>
      `).join("");

      resumeTotal.textContent = "Total a pagar: S/ " + totalCartAmount().toFixed(2);
      resumeTotal.style.display = "block";
    }

    cartItems.onclick = e => {
      const id = e.target.dataset.id;

      if(e.target.classList.contains("rm")){
        cart = cart.filter(i => i.id !== id);
      }
      if(e.target.classList.contains("cart-minus")){
        let prod = cart.find(i => i.id === id);
        if(prod.qty > 1) prod.qty--;
      }
      if(e.target.classList.contains("cart-plus")){
        let prod = cart.find(i => i.id === id);
        prod.qty++;
      }

      updateCount();
      renderCart();
    };

    document.getElementById("seguir").onclick = () => {
      cartModal.classList.remove("show");
    };


    /* ---------------------------
       FINALIZAR / GOOGLE SHEETS
    --------------------------- */
    const SHEETS_ENDPOINT =
      "https://script.google.com/macros/s/AKfycbwrbq-AXXwPM9vxBUHQQ8BtUW-mic7IHN8n1WYxuemYDg_LRxM4K0Ej-fQuDuxfTHCP/exec";

    function listaBullets(){
      return cart.map(i => `- ${i.nombre}`).join("\n");
    }
    function buildWhatsAppURL(nombre){
      const numero = "51913004414";
      const msg =
        `Hola! Soy ${nombre} y estoy interesado en los siguientes productos:\n` +
        listaBullets() + `\nAgradecer√© tu pronta respuesta.`;

      return `https://wa.me/${numero}?text=${encodeURIComponent(msg)}`;
    }

    document.getElementById("finalizar").onclick = async () => {
      const nombre = document.getElementById("fNombre").value.trim();

      if(!nombre){
        alert("Ingresa tu nombre.");
        return;
      }
      if(cart.length === 0){
        alert("Tu carrito est√° vac√≠o.");
        return;
      }

      const payload = {
        nombre,
        items: cart.map(i => ({
          nombre:i.nombre,
          qty:i.qty,
          precio:i.precio
        })),
        total: totalCartAmount(),
        origen: "LeioTech Store / productos"
      };

      try{
        await fetch(SHEETS_ENDPOINT, {
          method:"POST",
          headers:{ "Content-Type":"application/json" },
          body:JSON.stringify(payload)
        });
      } catch(e){}

      window.location.href = buildWhatsAppURL(nombre);
    };


    /* ---------------------------
       SLIDER AUTOM√ÅTICO
    --------------------------- */
    let currentSlide = 0;
    const sliderEl = document.getElementById("slider");
    const totalSlides = document.querySelectorAll(".slide").length;

    function moveSlider(index){
      currentSlide = (index + totalSlides) % totalSlides;
      sliderEl.style.transform = `translateX(-${currentSlide * 100}%)`;
    }

    setInterval(() => moveSlider(currentSlide + 1), 5000);

    document.getElementById("slidePrev").onclick =
      () => moveSlider(currentSlide - 1);
    document.getElementById("slideNext").onclick =
      () => moveSlider(currentSlide + 1);

  </script>

</body>
</html>
