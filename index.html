<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LeioTech Store</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --blue-900:#0A192F;
      --blue-800:#112240;
      --teal:#64FFDA;
      --neon:#00ffcc;
      --white:#E6F1FF;
      --muted:#94A3B8;
      --card: rgba(17,34,64,.85);
      --shadow: 0 20px 50px rgba(0,0,0,.35);
      --soft: 0 10px 30px rgba(0,0,0,.25);
      --radius:18px;
      --live-btn-bg: linear-gradient(88deg, #2afadf 5%, #14c388 95%);
      --live-btn-glow: 0 0 16px #14c38888, 0 0 6px #34e8c4bb;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Inter, system-ui, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--white);
      background:
        radial-gradient(1200px 600px at 80% -10%, rgba(100,255,218,.10), transparent 60%),
        radial-gradient(900px 400px at 10% 110%, rgba(100,255,218,.08), transparent 60%),
        linear-gradient(160deg, #0A192F 0%, #0B1B33 60%, #0A192F 100%);
      background-attachment: fixed;
    }
    .header{
      max-width: 1200px;
      margin: 24px auto 0;
      padding: 0 18px 8px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      border-bottom: 1px solid rgba(100,255,218,.18);
    }
    .logo{font-weight:800; letter-spacing:.3px; color:var(--teal)}
    .brand{display:flex; gap:10px; align-items:center}
    .brand small{color:#8fb3b3}
    .wrap{max-width:1200px; margin: 24px auto 120px; padding: 0 18px;}
    .title{display:flex; gap:10px; align-items:center; margin: 16px 0 18px}
    .title i{filter: drop-shadow(0 6px 20px rgba(0,0,0,.35))}
    .grid{
      display:grid;
      gap:20px;
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
    @media (max-width:900px){
      .grid{grid-template-columns: 1fr;}
    }
    .card{
      background:var(--card);
      border:1px solid rgba(100,255,218,.22);
      border-radius:18px;
      overflow:hidden;
      box-shadow:var(--soft);
      transition:.25s ease;
      cursor:pointer;
    }
    .card:hover{transform: translateY(-2px); box-shadow: var(--shadow)}
    .card figure{margin:0; height:260px; background:#071225; overflow:hidden}
    .card img{width:100%; height:100%; object-fit:cover; display:block; filter: saturate(1.05) contrast(1.03)}
    .card .body{padding:16px 16px 18px}
    .card h3{margin:0 0 6px; font-size:18px; color:var(--teal)}
    .card p{margin:0 0 10px; color:#cfe7ffad}
    .price{font-weight:800; letter-spacing:.3px; display:inline-block;}
    .product-qty-box, .cart-qty-box{
      display:inline-flex; align-items:center; gap:8px; font-size:17px; margin-left:12px;
      background:rgba(33,48,84,0.10); border-radius:8px; padding:2px 7px;
    }
    .qty-btn{
      border:none; background:none; color:var(--teal); font-size:22px; padding:2px 6px; border-radius:7px;
      cursor:pointer; font-weight:700; line-height:1; transition:background .2s;
    }
    .qty-btn:active{background:rgba(76,255,204,.12);}
    .cart-item>.cart-qty-box{margin-left:0;}
    .cart-qty-box input[type="number"]{width:32px;}
    .cart-line-total{font-size:14px; color:#59e7c6ac; font-weight:600;}
    .modal{
      position: fixed; inset:0; z-index:500;
      display:none; align-items:center; justify-content:center;
      background: rgba(3,8,20,.55); backdrop-filter: blur(6px);
      padding: 24px;
    }
    .modal.show{display:flex}
    .modal-card{
      width:min(1050px, 96vw);
      background:var(--card);
      border:1px solid rgba(100,255,218,.25);
      border-radius:20px;
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    .modal-head{
      padding:14px 16px; border-bottom:1px solid rgba(100,255,218,.18);
      display:flex; align-items:center; justify-content:space-between; font-weight:800;
    }
    .x{all:unset; cursor:pointer; font-size:22px; line-height:1; padding:6px 10px; border-radius:10px}
    .x:hover{background:rgba(255,255,255,.06)}
    .modal-body{
      display:grid; grid-template-columns: 1fr 1fr; gap:22px; padding:18px;
    }
    @media (max-width:900px){
      .modal-body{grid-template-columns:1fr}
    }
    .viewer{
      position:relative; background:#071225; border-radius:16px; overflow:hidden;
      min-height: 440px; display:grid; place-items:center;
      border:1px solid rgba(100,255,218,.14)
    }
    .viewer img{max-width:100%; max-height:430px; display:block; object-fit:contain}
    .nav-arrow{
      position:absolute; top:50%; transform:translateY(-50%);
      width:44px; height:44px; border-radius:50%; display:grid; place-items:center;
      cursor:pointer; border:1px solid rgba(0,255,204,.6);
      background: radial-gradient(60% 60% at 50% 50%, rgba(0,255,204,.18), rgba(0,255,204,.04));
      box-shadow: 0 0 25px rgba(0,255,204,.22), inset 0 0 10px rgba(0,255,204,.15);
      transition: .2s ease; color:var(--neon); font-weight:900; user-select:none;
    }
    .nav-arrow:hover{transform: translateY(-50%) scale(1.05); box-shadow:0 0 35px rgba(0,255,204,.35), inset 0 0 14px rgba(0,255,204,.22)}
    .nav-prev{left:10px}
    .nav-next{right:10px}
    .desc h2{margin:4px 0 8px; color:var(--teal)}
    .desc p{margin:0 0 10px; color:#cfe7ffcc}
    .desc ul{margin:10px 0 16px 18px}
    .desc li{margin:6px 0}
    .actions{display:flex; gap:12px; align-items:center}
    .btn{
      appearance:none;
      border:1px solid rgba(100,255,218,.55);
      background: rgba(100,255,218,.10);
      color:var(--white);
      padding:10px 14px;
      border-radius:12px;
      font-weight:700;
      cursor:pointer;
      transition:.2s;
      outline: none;
    }
    .btn:hover{background: rgba(100,255,218,.18)}
    .btn.primary{
      background: var(--live-btn-bg);
      color:#00221e;
      border-color:transparent;
      box-shadow: var(--live-btn-glow);
      position: relative;
      overflow:hidden;
      animation: pulseBtn 1.4s infinite cubic-bezier(0.4,0,0.2,1);
    }
    @keyframes pulseBtn {
      0%, 100% { box-shadow: var(--live-btn-glow), 0 0 0 0 #64FFDA44; }
      70% {      box-shadow: var(--live-btn-glow), 0 0 0 16px #03d3c216; }
    }
    .btn.primary:hover{
      background: linear-gradient(90deg, #33fff1 0%, #20ff9d 100%);
      color:#00927d;
    }
    .cart-fab{
      position: fixed; top:18px; right:18px; z-index:120;
      background: rgba(100,255,218,.12); color:var(--teal);
      border:1px solid rgba(100,255,218,.4); padding:8px 12px; border-radius:12px;
      font-weight:800; cursor:pointer;
      transition: .1s;
    }
    .cart-fab.vibrate{animation: vibrateCart .34s linear;}
    @keyframes vibrateCart{
      0%,100%{transform:translate(0,0)}
      20%{transform:translate(-2px,2px)}
      36%{transform:translate(2px,-2px)}
      48%{transform:translate(-1px,2px)}
      62%{transform:translate(2px,1px)}
      78%{transform:translate(-2px,-1px)}
    }
    .cart-modal .modal-body{grid-template-columns:1fr}
    .cart-item{display:grid; grid-template-columns: 64px 1fr auto; gap:12px; align-items:center; background:#0c1e38; border:1px solid rgba(100,255,218,.12); padding:10px; border-radius:12px}
    .cart-item img{width:64px; height:64px; object-fit:cover; border-radius:10px; border:1px solid rgba(100,255,218,.16)}
    .cart-item b{color:var(--white)}
    .rm{all:unset; cursor:pointer; color:#ff9aa7}
    .form{display:grid; gap:10px; margin-top:14px}
    .form .resume{font-weight:600; font-size:15px; color:#7df7d6; letter-spacing:.4px; margin-bottom:4px;}
    .input{
      width:100%; padding:12px 12px; border-radius:12px;
      color:var(--white); background:#091731;
      border:1px solid rgba(100,255,218,.16); outline:none;
    }
    .input:focus{border-color:rgba(100,255,218,.45)}
    .hint{color:#9fb8cf; font-size:13px}
    .fabs{position: fixed; right:18px; bottom:18px; display:flex; gap:14px; z-index:130}
    .fab{
      width:56px; height:56px; border-radius:18px; display:grid; place-items:center;
      background:#0c1e38; border:1px solid rgba(100,255,218,.25); box-shadow: var(--soft);
      cursor:pointer; position:relative; transition:.2s;
    }
    .fab:hover{transform: translateY(-2px); box-shadow: var(--shadow)}
    .fab img{width:28px; height:28px}
    .tooltip{
      position:absolute; right:70px; top:50%; transform:translateY(-50%);
      padding:10px 12px; border-radius:12px; background:#08152b;
      border:1px solid rgba(100,255,218,.25); color:var(--white);
      font-size:14px; white-space:nowrap; opacity:0; pointer-events:none; transition:.2s;
    }
    .fab:hover .tooltip{opacity:1}
    .mini{max-width:1200px; margin: 28px auto 80px; padding:0 18px; text-align:center; color:#cfe7ffbd}

    /* --- Hero slider styles --- */
    .hero{
      max-width:1200px; margin:18px auto 6px; padding:0 18px;
    }
    .hero-slider{
      position:relative;
      height:220px;
      border-radius:14px;
      overflow:hidden;
      background:#071225;
      border:1px solid rgba(100,255,218,.12);
      display:grid;
      place-items:center;
    }
    .hero-slider img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      transition:opacity .6s ease;
    }
    .hero-controls{
      position:absolute; left:12px; right:12px; top:0; bottom:0; pointer-events:none;
    }
    .hero-arrow{
      pointer-events:auto;
      position:absolute; top:50%; transform:translateY(-50%); width:44px; height:44px;
      border-radius:50%; display:grid; place-items:center; cursor:pointer;
      background: rgba(0,0,0,.35); color:var(--white); border:1px solid rgba(255,255,255,.06);
    }
    .hero-arrow.left{left:12px}
    .hero-arrow.right{right:12px}
    .hero-dots{
      position:absolute; bottom:10px; left:50%; transform:translateX(-50%); display:flex; gap:8px;
    }
    .hero-dot{
      width:10px; height:10px; border-radius:50%; background:rgba(255,255,255,.25); cursor:pointer;
      border: 1px solid rgba(0,0,0,.25);
    }
    .hero-dot.active{background:var(--teal); box-shadow:0 0 10px rgba(100,255,218,.14)}
    @media(min-width:1200px){
      .hero-slider{height:360px}
    }

    /* --- Contact/Footer area --- */
    .contact{
      max-width:1200px; margin:36px auto 24px; padding:22px 18px; border-radius:14px;
      background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
      border:1px solid rgba(100,255,218,.06);
      display:grid; grid-template-columns: 1fr 280px; gap:18px; align-items:center;
    }
    @media(max-width:900px){
      .contact{grid-template-columns:1fr; text-align:center}
    }
    .contact .left{display:flex; gap:16px; align-items:center}
    .contact .icons{display:flex; gap:12px; align-items:center}
    .contact .icons a{display:inline-grid; place-items:center; width:44px; height:44px; border-radius:10px; background:rgba(100,255,218,.06); color:var(--teal); text-decoration:none; border:1px solid rgba(100,255,218,.08)}
    .contact .right{font-size:14px; color:#cfe7ffbb}
    .contact h3{margin:0 0 6px; color:var(--teal)}
    .contact p{margin:2px 0}
    .contact .small{color:#9fb8cf; font-size:13px}
    footer.site-footer{
      margin-top:8px; padding:18px 0; text-align:center; color:#9fb8cf; font-size:13px;
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="brand">
      <div class="logo">LeioTech Store</div>
    </div>
    <button class="cart-fab" id="openCart">ðŸ›’ Carrito <span id="cartCount">0</span></button>
  </header>

  <!-- Hero slider (se mostrarÃ¡ sÃ³lo si hay imÃ¡genes en productos o en heroImages) -->
  <div class="hero" id="heroWrap" aria-hidden="true">
    <div class="hero-slider" id="heroSlider" tabindex="0" aria-label="GalerÃ­a de imÃ¡genes">
      <!-- img inserted by JS -->
      <div class="hero-controls">
        <div class="hero-arrow left" id="heroPrev" aria-hidden="false">â€¹</div>
        <div class="hero-arrow right" id="heroNext" aria-hidden="false">â€º</div>
      </div>
      <div class="hero-dots" id="heroDots" aria-hidden="false"></div>
    </div>
  </div>

  <section class="wrap">
    <div class="title">
      <span style="font-size:22px">ðŸš€</span>
      <h1 style="margin:0">CatÃ¡logo TecnolÃ³gico</h1>
    </div>
    <div class="grid" id="grid"></div>
  </section>

  <!-- Modal producto -->
  <div class="modal" id="productModal" aria-hidden="true">
    <div class="modal-card">
      <div class="modal-head">
        <div id="mTitle">Producto</div>
        <button class="x" id="mClose">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="viewer">
          <div class="nav-arrow nav-prev" id="prevImg">â€¹</div>
          <img id="mImg" alt="imagen producto"/>
          <div class="nav-arrow nav-next" id="nextImg">â€º</div>
        </div>
        <div class="desc">
          <h2 id="mName"></h2>
          <p id="mDesc"></p>
          <ul id="mFeat"></ul>
          <div>
            <span class="price" id="mPrice"></span>
            <span class="product-qty-box">
              <button class="qty-btn" id="qtyDec">-</button>
              <span id="qtyNumber">1</span>
              <button class="qty-btn" id="qtyInc">+</button>
            </span>
          </div>
          <div class="actions" style="margin-top:12px">
            <button class="btn" id="mClose2">Cerrar</button>
            <button class="btn primary" id="btnAdd">âž• Agregar al carrito</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal carrito -->
  <div class="modal cart-modal" id="cartModal">
    <div class="modal-card">
      <div class="modal-head">
        <div>Tu carrito</div>
        <button class="x" id="cClose">âœ•</button>
      </div>
      <div class="modal-body">
        <div id="cartItems" style="display:grid; gap:10px"></div>
        <div class="form">
          <div class="resume" id="resumeTotal" style="display:none"></div>
          <input class="input" id="fNombre" placeholder="Tu nombre completo" required>
          <div class="hint">Al finalizar, registraremos tu pedido y te llevaremos a WhatsApp con el resumen.</div>
          <div class="actions" style="margin-top:6px">
            <button class="btn" id="seguir">Seguir comprando</button>
            <button class="btn primary" id="finalizar">Finalizar compra</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Contact / Footer area -->
  <div class="contact" id="contactSection">
    <div class="left">
      <div>
        <h3>ContÃ¡ctanos</h3>
        <p class="small">Estamos disponibles para consultas, pedidos y soporte</p>
        <p><strong>Email:</strong> <a href="mailto:leonardoandre1054@gmail.com" style="color:var(--teal); text-decoration:none">leonardoandre1054@gmail.com</a></p>
        <p><strong>Celular:</strong> <a href="tel:+51913004414" style="color:var(--teal); text-decoration:none">+51 913 004 414</a></p>
      </div>
      <div style="width:8px"></div>
      <div class="icons" aria-hidden="false">
        <a href="https://instagram.com/leiotech" target="_blank" rel="noopener" title="Instagram">
          <!-- Instagram icon (simple) -->
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display:block">
            <rect x="2" y="2" width="20" height="20" rx="5" stroke="currentColor" stroke-width="1.6" fill="none"/>
            <circle cx="12" cy="12" r="3.2" stroke="currentColor" stroke-width="1.6" fill="none"/>
            <circle cx="17.5" cy="6.5" r="0.7" fill="currentColor"/>
          </svg>
        </a>
        <a href="https://facebook.com/leiotech" target="_blank" rel="noopener" title="Facebook">
          <!-- Facebook icon -->
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display:block">
            <path d="M15 3h2.5V7H15v2h2.5V17H15v4h-3v-4H9.5V9H12V6.5C12 5.1 12.9 3 15 3z" fill="currentColor"/>
          </svg>
        </a>
        <a href="mailto:leonardoandre1054@gmail.com" title="Enviar correo">
          <!-- Mail icon -->
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display:block">
            <path d="M3 6.5v11A2.5 2.5 0 0 0 5.5 20h13A2.5 2.5 0 0 0 21 17.5v-11A2.5 2.5 0 0 0 18.5 4h-13A2.5 2.5 0 0 0 3 6.5z" stroke="currentColor" stroke-width="1.2" fill="none"/>
            <path d="M4 6.8l7.2 5.2a2 2 0 0 0 2.2 0L21 6.8" stroke="currentColor" stroke-width="1.2" fill="none"/>
          </svg>
        </a>
      </div>
    </div>
    <div class="right" style="text-align:right">
      <div style="display:flex; justify-content:flex-end; gap:12px; align-items:center">
        <div>
          <div style="color:#cfe7ffcc; font-weight:700">SÃ­guenos</div>
          <div class="small">Instagram: <a href="https://instagram.com/leiotech" target="_blank" rel="noopener" style="color:var(--teal); text-decoration:none">@leiotech</a></div>
          <div class="small">Facebook: <a href="https://facebook.com/leiotech" target="_blank" rel="noopener" style="color:var(--teal); text-decoration:none">leiotech</a></div>
        </div>
      </div>
    </div>
  </div>

  <footer class="site-footer">LeioTech Store â€” Â© <span id="year"></span></footer>

  <div class="fabs">
    <!-- Puedes reemplazar el contenido del .fab por el emoji que mÃ¡s te guste -->
    <a class="fab" href="https://wa.me/51913004414?text=Hola%20estoy%20interesado%20en%20tus%20productos." target="_blank" rel="noopener">
      <span class="tooltip">Chatea conmigo por WhatsApp</span>
      <span style="font-size:32px;">ðŸ’¬</span>
    </a>
    <a class="fab" href="https://calendly.com/leonardoandre1054" target="_blank" rel="noopener" title="Agenda una sesiÃ³n conmigo">
      <span style="font-size:32px;">ðŸ“…</span>
    </a>
  </div>

  <script>
    // Productos (el array original aparece truncado en el archivo que me diste).
    // Si tus objetos de producto ya contienen `imagenes` y `caracteristicas`, el slider los usarÃ¡.
    const productos = [
      {id:'p1',nombre:'Cable C (1m) Carga RÃ¡pida',precio:38.00,descripcion:'DiseÃ±ado para una carga eficiente y transferencia rÃ¡pida de datos entre tus dispositivos Apple con conector Lightning y e[...]',imagenes:['https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=1400&auto=format&fit=crop&q=60'],caracteristicas:['Carga rÃ¡pida','1 metro']},
      {id:'p2',nombre:'Adaptador de corriente USB-C',precio:40.00,descripcion:'Carga tu iPhone, iPad o cualquier dispositivo compatible de forma rÃ¡pida y segura con este adaptador compacto de 20 W de[...]',imagenes:['https://images.unsplash.com/photo-1555617117-08b9a1a5a3c7?w=1400&auto=format&fit=crop&q=60'],caracteristicas:['20W','Compacto']},
      {id:'p3',nombre:'Cable USB (1m)',precio:35.00,descripcion:'Conecta y sincroniza tu iPhone, iPad o iPod con conector Lightning a tu computadora o adaptador de corriente para cargarlo de manera rï¿½[...]',imagenes:['https://images.unsplash.com/photo-1521791136064-7986c2920216?w=1400&auto=format&fit=crop&q=60'],caracteristicas:['SincronizaciÃ³n','1 metro']},
      {id:'p4',nombre:'Cargador USB PortÃ¡til',precio:45.00,descripcion:'Carga tus dispositivos en cualquier lugar con este prÃ¡ctico powerbank de 2,600 mAh, compacto, ligero y fÃ¡cil de llevar.',imagenes:['https://images.unsplash.com/photo-1545239351-1141bd82e8a6?w=1400&auto=format&fit=crop&q=60'],caracteristicas:['2600 mAh','Ligero']}
    ];

    // Rellenar la cuadrÃ­cula de productos como antes.
    const grid = document.getElementById('grid');
    grid.innerHTML = productos.map(p =>
      `<article class="card" data-id="${p.id}">
        <figure><img src="${encodeURI((p.imagenes && p.imagenes[0])||'')} alt="${p.nombre}"></figure>
        <div class="body">
          <h3>${p.nombre}</h3>
          <p>${p.descripcion}</p>
          <div class="price">S/ ${p.precio.toFixed(2)}</div>
        </div>
      </article>`
    ).join('');

    // --- Modal producto (sin cambios funcionales) ---
    const productModal = document.getElementById('productModal');
    const mTitle = document.getElementById('mTitle');
    const mName = document.getElementById('mName');
    const mDesc = document.getElementById('mDesc');
    const mFeat = document.getElementById('mFeat');
    const mPrice = document.getElementById('mPrice');
    const mImg = document.getElementById('mImg');
    const mClose = document.getElementById('mClose');
    const mClose2= document.getElementById('mClose2');
    const btnAdd = document.getElementById('btnAdd');
    const prevImg= document.getElementById('prevImg');
    const nextImg= document.getElementById('nextImg');
    const qtyDec = document.getElementById('qtyDec');
    const qtyInc = document.getElementById('qtyInc');
    const qtyNumber = document.getElementById('qtyNumber');
    let currentProduct = null;
    let currentIndex = 0;
    let currentQty = 1;
    function openProduct(p){
      currentProduct = p;
      currentIndex = 0;
      currentQty = 1;
      mTitle.textContent = p.nombre;
      mName.textContent = p.nombre;
      mDesc.textContent = p.descripcion;
      mFeat.innerHTML = (p.caracteristicas||[]).map(c=>`<li>${c}</li>`).join('');
      renderModalPrice();
      mImg.src = encodeURI((p.imagenes && p.imagenes[currentIndex]) || '');
      qtyNumber.textContent = currentQty;
      productModal.classList.add('show');
    }
    function closeProduct(){productModal.classList.remove('show');}
    function showIdx(idx){
      if(!currentProduct || !currentProduct.imagenes) return;
      const total = currentProduct.imagenes.length;
      currentIndex = (idx+total)%total;
      mImg.src = encodeURI(currentProduct.imagenes[currentIndex]);
    }
    prevImg.onclick = ()=> showIdx(currentIndex-1);
    nextImg.onclick = ()=> showIdx(currentIndex+1);
    [mClose, mClose2].forEach(b=> b.onclick = closeProduct);
    productModal.addEventListener('click', e=>{
      if(e.target===productModal) closeProduct();
    });
    grid.addEventListener('click', e=>{
      const card = e.target.closest('.card');
      if(!card) return;
      const id = card.getAttribute('data-id');
      const p = productos.find(x=>x.id===id);
      openProduct(p);
    });
    function renderModalPrice(){
      if(currentProduct)
        mPrice.textContent = `S/ ${(currentProduct.precio * currentQty).toFixed(2)}`;
    }
    qtyDec.onclick = () => {
      if(currentQty>1) { currentQty--; qtyNumber.textContent = currentQty; renderModalPrice(); }
    };
    qtyInc.onclick = () => {
      currentQty++; qtyNumber.textContent = currentQty; renderModalPrice();
    };

    // --- Carrito (sin cambios funcionales) ---
    let cart = [];
    const cartCount = document.getElementById('cartCount');
    const openCartBtn = document.getElementById('openCart');
    const cartModal = document.getElementById('cartModal');
    const cClose = document.getElementById('cClose');
    const cartItems = document.getElementById('cartItems');
    const resumeTotal = document.getElementById('resumeTotal');
    function totalCartAmount(){return cart.reduce((s,i)=>s+i.precio*i.qty,0);}
    function updateCount(){cartCount.textContent = cart.reduce((s,i)=>s+i.qty,0);}
    function openCart(){cartModal.classList.add('show'); renderCart();}
    function closeCart(){cartModal.classList.remove('show');}
    openCartBtn.onclick = openCart;
    cClose.onclick = closeCart;
    cartModal.addEventListener('click', e=>{
      if(e.target===cartModal) closeCart();
    });
    function vibrateCartFab(){
      openCartBtn.classList.remove('vibrate');
      setTimeout(()=> openCartBtn.classList.add('vibrate'),50);
      setTimeout(()=> openCartBtn.classList.remove('vibrate'), 380);
    }
    btnAdd.onclick = ()=>{
      if(!currentProduct) return;
      let found = cart.find(i=>i.id===currentProduct.id);
      if(found){
        found.qty += currentQty;
      }else{
        cart.push({
          id:currentProduct.id,
          nombre:currentProduct.nombre,
          precio:currentProduct.precio,
          img:(currentProduct.imagenes && currentProduct.imagenes[0])||'',
          qty:currentQty
        });
      }
      updateCount();
      vibrateCartFab();
      closeProduct();
      openCart();
    };
    function renderCart(){
      if(cart.length===0){
        cartItems.innerHTML = '<div class="hint">Tu carrito estÃ¡ vacÃ­o.</div>';
        resumeTotal.textContent = '';
        resumeTotal.style.display = 'none';
        return;
      }
      cartItems.innerHTML = cart.map(i=>`
        <div class="cart-item" data-id="${i.id}">
          <img src="${encodeURI(i.img)}" alt="">
          <div>
            <b>${i.nombre}</b>
            <div class="cart-qty-box">
              <button class="qty-btn cart-minus" data-id="${i.id}">-</button>
              <span>${i.qty}</span>
              <button class="qty-btn cart-plus" data-id="${i.id}">+</button>
            </div>
            <div class="cart-line-total">S/ ${(i.precio*i.qty).toFixed(2)}</div>
          </div>
          <button class="rm" data-id="${i.id}">Quitar</button>
        </div>
      `).join('');
      resumeTotal.style.display = 'block';
      resumeTotal.textContent = `Total a pagar: S/ ${totalCartAmount().toFixed(2)}`;
    }
    cartItems.addEventListener('click', e=>{
      const id = e.target.getAttribute('data-id');
      if(e.target.classList.contains('rm')){
        cart = cart.filter(i=>i.id!==id);
        updateCount(); renderCart();
      }else if(e.target.classList.contains('cart-minus')){
        let prod = cart.find(i=>i.id===id);
        if(prod && prod.qty>1) prod.qty--;
        updateCount(); renderCart();
      }else if(e.target.classList.contains('cart-plus')){
        let prod = cart.find(i=>i.id===id);
        if(prod) prod.qty++;
        updateCount(); renderCart();
      }
    });
    document.getElementById('seguir').onclick = closeCart;
    const SHEETS_ENDPOINT = "https://script.google.com/macros/s/AKfycbwrbq-AXXwPM9vxBUHQQ8BtUW-mic7IHN8n1WYxuemYDg_LRxM4K0Ej-fQuDuxfTHCP/exec";
    const finalizarBtn = document.getElementById('finalizar');
    function listaBullets(){
      // Solo el nombre de cada producto, como bullets
      return cart.map(i => `- ${i.nombre}`).join('\n');
    }
    function buildWhatsAppURL(nombre){
      const numero = "51913004414";
      // Mensaje editado segÃºn el pedido, sin parÃ©ntesis, sin emojis, limpio como solicitaste
      const msg = `Hola! Soy ${nombre} y estoy interesado en los siguientes productos:\n${listaBullets()}\nAgradecerÃ© tu pronta respuesta.`;
      return `https://wa.me/${numero}?text=${encodeURIComponent(msg)}`;
    }
    finalizarBtn.onclick = async ()=>{
      const nombre = document.getElementById('fNombre').value.trim();
      if(!nombre){
        alert('Por favor ingresa tu nombre.');
        return;
      }
      if(cart.length===0){
        alert('Tu carrito estÃ¡ vacÃ­o.');
        return;
      }
      const payload = {
        nombre,
        items: cart.map(i=>({nombre:i.nombre, qty:i.qty, precio:i.precio})),
        total: totalCartAmount(),
        origen: "LeioTech Store / productos"
      };
      try {
        await fetch(SHEETS_ENDPOINT, {
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body: JSON.stringify(payload)
        });
      } catch(e){}
      window.location.href = buildWhatsAppURL(nombre);
    };
    updateCount();

    // --- Hero slider logic ---
    (function initHeroSlider(){
      const heroSlider = document.getElementById('heroSlider');
      const heroDots = document.getElementById('heroDots');
      const heroPrev = document.getElementById('heroPrev');
      const heroNext = document.getElementById('heroNext');
      const heroWrap = document.getElementById('heroWrap');

      // Build images list from productos.imagenes (usarÃ¡ todas las imÃ¡genes encontradas)
      let heroImages = productos.reduce((acc,p) => {
        if(Array.isArray(p.imagenes)) acc.push(...p.imagenes);
        return acc;
      }, []);

      // Si no hay imÃ¡genes, oculta la hero (evita mostrar bloque vacÃ­o).
      if(!heroImages || heroImages.length === 0){
        heroWrap.style.display = 'none';
        return;
      }

      // Remove duplicates (simple)
      heroImages = heroImages.filter((v,i,a)=>a.indexOf(v)===i);

      let current = 0;
      let intervalMs = 5000;
      let timer = null;

      // create main <img> element and dots
      const imgEl = document.createElement('img');
      imgEl.alt = 'Hero image';
      imgEl.src = heroImages[0];
      imgEl.style.opacity = 1;
      heroSlider.insertBefore(imgEl, heroSlider.firstChild);

      function renderDots(){
        heroDots.innerHTML = '';
        heroImages.forEach((_,i)=>{
          const d = document.createElement('div');
          d.className = 'hero-dot' + (i===current ? ' active' : '');
          d.dataset.index = i;
          d.addEventListener('click', ()=> goTo(i));
          heroDots.appendChild(d);
        });
      }

      function goTo(i){
        current = (i + heroImages.length) % heroImages.length;
        imgEl.style.opacity = 0;
        // wait for fade-out then change src
        setTimeout(() => {
          imgEl.src = heroImages[current];
          imgEl.style.opacity = 1;
        }, 200);
        updateDots();
        resetTimer();
      }

      function prev(){
        goTo(current-1);
      }
      function next(){
        goTo(current+1);
      }

      function updateDots(){
        Array.from(heroDots.children).forEach((d,idx)=> {
          d.classList.toggle('active', idx===current);
        });
      }

      function startTimer(){
        if(timer) clearInterval(timer);
        timer = setInterval(()=> {
          current = (current+1) % heroImages.length;
          goTo(current);
        }, intervalMs);
      }

      function resetTimer(){
        startTimer();
      }

      heroPrev.addEventListener('click', prev);
      heroNext.addEventListener('click', next);
      heroSlider.addEventListener('mouseenter', ()=> { if(timer) clearInterval(timer); });
      heroSlider.addEventListener('mouseleave', ()=> startTimer());

      renderDots();
      startTimer();
      // make visible (in case aria-hidden was set)
      heroWrap.setAttribute('aria-hidden','false');
    })();

    // Set current year in footer
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
